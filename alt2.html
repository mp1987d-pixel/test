<!DOCTYPE html> 
<html lang="es">
<head>
<meta charset="UTF-8">
<title>ArgentinaGo</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: Arial, sans-serif;
  background-color: #0b1d3a;
  background-image: 
    radial-gradient(circle at 20% 30%, rgba(255,255,255,0.08) 0%, transparent 30%),
    radial-gradient(circle at 70% 50%, rgba(255,255,255,0.06) 0%, transparent 30%),
    radial-gradient(circle at 40% 80%, rgba(255,255,255,0.07) 0%, transparent 30%);
  background-size: 250px 250px, 300px 300px, 200px 200px;
}

.section {
  max-width: 1200px;
  margin: 40px auto;
  padding: 40px;
  background: rgba(255,255,255,0.72);
  border-radius: 12px;
}

.section h2 { text-align:center; margin-bottom:30px; }

/* ===== PREMIUM CAROUSEL ===== */

.carousel-container {
  position: relative;
}

.cards {
  display: flex;
  gap: 25px;
  overflow-x: auto;
  scroll-behavior: smooth;
  scroll-snap-type: x mandatory;
  padding-bottom: 20px;
}

.cards::-webkit-scrollbar { display: none; }

.card {
  flex: 0 0 calc(50% - 12.5px);
  scroll-snap-align: start;
  background: #fff;
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  text-align: center;
}

.carousel-btn {
  position: absolute;
  top: 45%;
  transform: translateY(-50%);
  background: #0077cc;
  color: white;
  border: none;
  width: 45px;
  height: 45px;
  border-radius: 50%;
  cursor: pointer;
  font-size: 22px;
  z-index: 10;
}

.prev { left: -20px; }
.next { right: -20px; }

.carousel-dots {
  text-align: center;
  margin-top: 10px;
}

.carousel-dots span {
  display: inline-block;
  width: 10px;
  height: 10px;
  margin: 5px;
  background: #ccc;
  border-radius: 50%;
  cursor: pointer;
}

.carousel-dots .active {
  background: #0077cc;
}

/* ===== RESTO ORIGINAL ===== */

.card img {
  width:100%;
  height:180px;
  object-fit:cover;
}

.card h3 { margin:15px 0 10px; }

.card p { padding:0 15px; font-size:0.95rem; }

.card button {
  margin:15px 0 20px;
  padding:10px 20px;
  border:none;
  background:#0077cc;
  color:#fff;
  border-radius:6px;
  cursor:pointer;
}

.modal {
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.8);
  z-index:1000;
}

.modal-content {
  background:#fff;
  margin:40px auto;
  padding:20px;
  border-radius:12px;
  max-width:800px;
  width:90%;
}

.close {
  float:right;
  font-size:28px;
  cursor:pointer;
}

.whatsapp-btn {
  display:inline-block;
  padding:12px 25px;
  background:#25D366;
  color:#fff;
  text-decoration:none;
  border-radius:8px;
  margin-top:15px;
}
</style>
</head>

<body>

<section class="section">
<h2 id="section-title"></h2>

<div class="carousel-container">
<button class="carousel-btn prev">&#10094;</button>
<div class="cards" id="cards"></div>
<button class="carousel-btn next">&#10095;</button>
<div class="carousel-dots" id="dots"></div>
</div>

</section>

<div id="modals"></div>

<script>

/* ========= API ORIGINAL ========= */

const API_URL = "https://script.google.com/macros/s/AKfycbyBtRe25ZSD5jlv7eJ8ExlwDYHpKuA01RK8ToAMA3HuvMklOMDDRuU6wiBRKXkm0fhDOw/exec";
const RATE_URL = "https://script.google.com/macros/s/AKfycbxjq944t-U8WVGm7SiJGGxG43ww2VDRELUbg6Q_GyHPeKGEcMG7zy0NwP3lTE2NVxApmw/exec";
const IMG_BASE = "https://raw.githubusercontent.com/mp1987d-pixel/test/1503dc4065aeac69e0bdbd53165267c937a57eb5/img/";
const YT_BASE = "https://www.youtube.com/embed/";

let autoplay;

Promise.all([
  fetch(API_URL).then(res=>res.json()),
  fetch(RATE_URL).then(res=>res.json())
])
.then(([data, rateData])=>{

const tasaEuroPeso = parseFloat(rateData[0]["tasa euro - pesos arg"]);
const tasaEuroDolar = parseFloat(rateData[0]["tasa euro - dolar"]);
const cards = document.getElementById("cards");
const dotsContainer = document.getElementById("dots");
const modals = document.getElementById("modals");

data.forEach((fila,index)=>{

if(!fila["Título"] || !fila["Imagen"]) return;

const imgSrc = IMG_BASE + fila["Imagen"];
const precioOriginal = parseFloat(fila["Precio"]||0);
const precioPesos = (precioOriginal*tasaEuroPeso).toFixed(2);
const precioDolar = (precioOriginal*tasaEuroDolar).toFixed(2);

const card = document.createElement("div");
card.className="card";
card.innerHTML=`
<img src="${imgSrc}">
<h3>${fila["Título"]}</h3>
<p>${fila["Descripción"]||""}</p>
<button>Ver más</button>
`;
cards.appendChild(card);

const dot=document.createElement("span");
dot.onclick=()=>scrollToCard(index);
dotsContainer.appendChild(dot);

});

initCarousel();

});

/* ========= PREMIUM CAROUSEL ========= */

function initCarousel(){
const container=document.querySelector(".cards");
const cards=document.querySelectorAll(".card");
const dots=document.querySelectorAll(".carousel-dots span");

let index=0;

function scrollToCard(i){
container.scrollTo({
left:cards[i].offsetLeft,
behavior:"smooth"
});
index=i;
updateDots();
}

function updateDots(){
dots.forEach(d=>d.classList.remove("active"));
if(dots[index]) dots[index].classList.add("active");
}

document.querySelector(".next").onclick=()=>{
index=(index+1)%cards.length;
scrollToCard(index);
};

document.querySelector(".prev").onclick=()=>{
index=(index-1+cards.length)%cards.length;
scrollToCard(index);
};

container.addEventListener("scroll",()=>{
let closest=0;
let minDiff=Infinity;
cards.forEach((card,i)=>{
let diff=Math.abs(container.scrollLeft-card.offsetLeft);
if(diff<minDiff){minDiff=diff;closest=i;}
});
index=closest;
updateDots();
});

function startAutoplay(){
autoplay=setInterval(()=>{
document.querySelector(".next").click();
},4000);
}

function stopAutoplay(){
clearInterval(autoplay);
}

container.addEventListener("mouseenter",stopAutoplay);
container.addEventListener("touchstart",stopAutoplay);
container.addEventListener("mouseleave",startAutoplay);

startAutoplay();
updateDots();
}

</script>

</body>
</html>
