<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>ArgentinaGo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: Arial, sans-serif;
  background-color: #0b1d3a;
  background-image: 
    radial-gradient(circle at 20% 30%, rgba(255,255,255,0.08) 0%, transparent 30%),
    radial-gradient(circle at 70% 50%, rgba(255,255,255,0.06) 0%, transparent 30%),
    radial-gradient(circle at 40% 80%, rgba(255,255,255,0.07) 0%, transparent 30%);
  background-size: 250px 250px, 300px 300px, 200px 200px;
  background-repeat: repeat;
  background-attachment: scroll;
  background-blend-mode: overlay;
}

.main-header {
  background: #ffffff;
  padding: 15px 30px;
}

.header-container {
  max-width: 1200px;
  margin: auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.socials a {
  margin-left: 15px;
  text-decoration: none;
  color: #333;
  font-size: 0.9rem;
}

.hero {
  width: 100%;
  height: 70vh;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  transition: background-image 1s ease-in-out;
  display: flex;
  align-items: center;
  justify-content: center;
}

.hero-content {
  background: rgba(0,0,0,0.45);
  padding: 30px 40px;
  border-radius: 10px;
  text-align: center;
  color: #fff;
}

.section {
  max-width: 1200px;
  margin: 40px auto;
  padding: 40px;
  background: rgba(255,255,255,0.72);
  border-radius: 12px;
}

.section h2 {
  text-align: center;
  margin-bottom: 30px;
}

.cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 25px;
}

.card {
  background: #fff;
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  text-align: center;
}

.card img {
  width: 100%;
  height: 180px;
  object-fit: cover;
}

.card h3 {
  margin: 15px 0 10px;
}

.card p {
  padding: 0 15px;
  font-size: 0.95rem;
}

.card button {
  margin: 15px 0 20px;
  padding: 10px 20px;
  border: none;
  background: #0077cc;
  color: #fff;
  border-radius: 6px;
  cursor: pointer;
}

.card button:hover {
  background: #005fa3;
}

.modal {
  display: none;
  position: fixed;
  z-index: 1000;
  inset: 0;
  background: rgba(0,0,0,0.8);
  overflow-y: auto;
}

.modal-content {
  background: #fff;
  margin: 40px auto;
  padding: 20px;
  border-radius: 12px;
  max-width: 800px;
  width: 90%;
  text-align: center;
  max-height: calc(100vh - 80px);
  overflow-y: auto;
}

.modal-content img {
  width: 100%;
  max-height: 400px;
  object-fit: cover;
  border-radius: 8px;
  margin-bottom: 15px;
}

.close {
  position: sticky;
  top: 0;
  float: right;
  font-size: 28px;
  font-weight: bold;
  color: #333;
  cursor: pointer;
}

.whatsapp-btn {
  display: inline-block;
  padding: 12px 25px;
  background: #25D366;
  color: #fff;
  text-decoration: none;
  border-radius: 8px;
  font-weight: bold;
  margin-top: 15px;
}

.main-footer {
  background: #111;
  color: #fff;
  text-align: center;
  padding: 20px;
}
  </style>
</head>

<body>

<header class="main-header">
  <div class="header-container">
    <h2>ArgentinaGo</h2>
    <div class="socials">
      <a href="#">Instagram</a>
      <a href="#">Facebook</a>
    </div>
  </div>
</header>

<section class="hero">
  <div class="hero-content">
    <h1 id="hero-title"></h1>
    <p id="hero-subtitle"></p>
  </div>
</section>

<section class="section">
  <h2 id="section-title"></h2>
  <div class="cards" id="cards"></div>
</section>

<div id="modals"></div>

<footer class="main-footer">
  <p id="footer-text"></p>
</footer>

<script>

/* ================= DETECCION IDIOMA ================= */

const browserLang = navigator.language || navigator.userLanguage;
const isSpanish = browserLang.toLowerCase().startsWith("es");

document.documentElement.lang = isSpanish ? "es" : "en";

const TEXTS = {
  es: {
    heroTitle: "Descubr√≠ Argentina",
    heroSubtitle: "Experiencias √∫nicas pensadas para turistas europeos",
    sectionTitle: "Destinos destacados",
    footer: "¬© 2026 Viajes Argentina ¬∑ Turismo receptivo"
  },
  en: {
    heroTitle: "Discover Argentina",
    heroSubtitle: "Unique experiences designed for European travelers",
    sectionTitle: "Featured destinations",
    footer: "¬© 2026 Argentina Travel ¬∑ Incoming tourism"
  }
};

const langKey = isSpanish ? "es" : "en";

document.getElementById("hero-title").textContent = TEXTS[langKey].heroTitle;
document.getElementById("hero-subtitle").textContent = TEXTS[langKey].heroSubtitle;
document.getElementById("section-title").textContent = TEXTS[langKey].sectionTitle;
document.getElementById("footer-text").textContent = TEXTS[langKey].footer;


/* ================= HERO CARRUSEL ================= */

const heroImages = [
  "img/carru1.jpg",
  "img/carru2.jpg",
  "img/carru3.jpg"
];

let heroIndex = 0;
const heroSection = document.querySelector(".hero");

setInterval(() => {
  heroIndex = (heroIndex + 1) % heroImages.length;
  heroSection.style.backgroundImage = `url('${heroImages[heroIndex]}')`;
}, 4000);


/* ================= TU CODIGO ORIGINAL ================= */

const API_URL = "https://script.google.com/macros/s/AKfycbyBtRe25ZSD5jlv7eJ8ExlwDYHpKuA01RK8ToAMA3HuvMklOMDDRuU6wiBRKXkm0fhDOw/exec";
const RATE_URL = "https://script.google.com/macros/s/AKfycbxjq944t-U8WVGm7SiJGGxG43ww2VDRELUbg6Q_GyHPeKGEcMG7zy0NwP3lTE2NVxApmw/exec";

const IMG_BASE = "https://raw.githubusercontent.com/mp1987d-pixel/test/1503dc4065aeac69e0bdbd53165267c937a57eb5/img/";
const YT_BASE = "https://www.youtube.com/embed/";

Promise.all([
  fetch(API_URL).then(res => res.json()),
  fetch(RATE_URL).then(res => res.json())
])
.then(([data, rateData]) => {

  const tasaEuroPeso = parseFloat(rateData[0]["tasa euro - pesos arg"]);
  const tasaEuroDolar = parseFloat(rateData[0]["tasa euro - dolar"]);
  const cards = document.getElementById("cards");
  const modals = document.getElementById("modals");

  // üî• FILTRO POR IDIOMA
  const filteredData = data.filter(fila => {
    if (isSpanish) return fila["Idioma"] === "Es";
    return fila["Idioma"] === "En";
  });

  filteredData.forEach((fila, index) => {

    if (!fila["T√≠tulo"] || !fila["Imagen"]) return;

    const modalId = `modal_${index}`;
    const imgSrc = IMG_BASE + fila["Imagen"];
    const youtubeSrc = fila["Youtube"] ? YT_BASE + fila["Youtube"] : "";

    const precioOriginal = parseFloat(fila["Precio"] || 0);
    const precioPesos = (precioOriginal * tasaEuroPeso).toFixed(2);
    const precioDolar = (precioOriginal * tasaEuroDolar).toFixed(2);

    const card = document.createElement("div");
    card.className = "card";
    card.innerHTML = `
      <img src="${imgSrc}" alt="${fila["T√≠tulo"]}">
      <h3>${fila["T√≠tulo"]}</h3>
      <p>${fila["Descripci√≥n"] || ""}</p>
      <button class="open-modal" data-modal="${modalId}">
        ${isSpanish ? "Ver m√°s" : "See more"}
      </button>
    `;
    cards.appendChild(card);

    const modal = document.createElement("div");
    modal.className = "modal";
    modal.id = modalId;
    modal.innerHTML = `
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>${fila["T√≠tulo"]}</h2>
        <img src="${imgSrc}" alt="${fila["T√≠tulo"]}">
        <p>${fila["Descripci√≥n_modal"] || ""}</p>
        ${youtubeSrc ? `<iframe src="${youtubeSrc}" width="100%" height="315" allowfullscreen></iframe>` : ""}
        <h2>
          ‚Ç¨ ${precioOriginal.toFixed(2)} <br>
          USD ${precioDolar} <br>
          ARS ${precioPesos}
        </h2>
        <a href="https://wa.me/5491112345678" target="_blank" class="whatsapp-btn">
          ${isSpanish ? "Contactar por WhatsApp" : "Contact via WhatsApp"}
        </a>
      </div>
    `;
    modals.appendChild(modal);
  });

  activarModales();
});

function activarModales() {
  document.querySelectorAll(".open-modal").forEach(btn => {
    btn.onclick = () => {
      document.getElementById(btn.dataset.modal).style.display = "block";
      document.body.style.overflow = "hidden";
    };
  });

  document.querySelectorAll(".close").forEach(btn => {
    btn.onclick = () => {
      btn.closest(".modal").style.display = "none";
      document.body.style.overflow = "";
    };
  });

  window.onclick = e => {
    document.querySelectorAll(".modal").forEach(m => {
      if (e.target === m) {
        m.style.display = "none";
        document.body.style.overflow = "";
      }
    });
  };
}
</script>

</body>
</html>
